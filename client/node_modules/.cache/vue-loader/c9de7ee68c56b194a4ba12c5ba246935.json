{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\2222\\django-vue-admin\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\2222\\django-vue-admin\\client\\src\\views\\system\\task.vue?vue&type=template&id=2701828a&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\2222\\django-vue-admin\\client\\src\\views\\system\\task.vue","mtime":1619442865552},{"path":"C:\\Users\\Administrator\\Desktop\\2222\\django-vue-admin\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619442844997},{"path":"C:\\Users\\Administrator\\Desktop\\2222\\django-vue-admin\\client\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":1619442863904},{"path":"C:\\Users\\Administrator\\Desktop\\2222\\django-vue-admin\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619442844997},{"path":"C:\\Users\\Administrator\\Desktop\\2222\\django-vue-admin\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1619442863896}],"contextDependencies":[],"result":["\n  <div class=\"app-container\">\n    <div>\n      <el-select\n        v-model=\"listQuery.enabled\"\n        placeholder=\"是否启用\"\n        clearable\n        style=\"width: 200px\"\n        class=\"filter-item\"\n        @change=\"handleFilter\"\n      >\n        <el-option\n          v-for=\"item in enabledOptions\"\n          :key=\"item.key\"\n          :label=\"item.display_name\"\n          :value=\"item.key\"\n        />\n      </el-select>\n      <el-input\n        v-model=\"listQuery.search\"\n        placeholder=\"任务名\"\n        style=\"width: 300px\"\n        class=\"filter-item\"\n        @keyup.enter.native=\"handleFilter\"\n      />\n      <el-button\n        class=\"filter-item\"\n        type=\"primary\"\n        icon=\"el-icon-search\"\n        @click=\"handleFilter\"\n        size=\"small\"\n        >搜索</el-button\n      >\n      <el-button\n        class=\"filter-item\"\n        type=\"primary\"\n        icon=\"el-icon-refresh-left\"\n        @click=\"resetFilter\"\n        size=\"small\"\n        >重置</el-button\n      >\n    </div>\n    <div style=\"margin-top: 6px\">\n      <el-button\n        type=\"primary\"\n        icon=\"el-icon-plus\"\n        @click=\"handleCreate\"\n        v-if=\"checkPermission(['task_create'])\"\n        size=\"small\"\n        >新增</el-button\n      >\n    </div>\n    <el-table\n      v-loading=\"listLoading\"\n      :data=\"dataList.results\"\n      style=\"width: 100%; margin-top: 10px\"\n      border\n      fit\n      stripe\n      highlight-current-row\n      max-height=\"600\"\n    >\n      <el-table-column type=\"index\" width=\"50\" />\n      <el-table-column align=\"center\" label=\"名称\">\n        <template slot-scope=\"scope\">{{ scope.row.name }} </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"执行代码\">\n        <template slot-scope=\"scope\">{{ scope.row.task }} </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"定时策略\">\n        <template slot-scope=\"scope\">{{ scope.row.schedule }} </template>\n      </el-table-column>\n      <el-table-column align=\"header-center\" label=\"已执行次数\">\n        <template slot-scope=\"scope\">{{ scope.row.total_run_count }}</template>\n      </el-table-column>\n      <el-table-column align=\"header-center\" label=\"最后执行时间\">\n        <template slot-scope=\"scope\">{{ scope.row.last_run_at }}</template>\n      </el-table-column>\n      <el-table-column label=\"是否启用\">\n        <template slot-scope=\"scope\">\n          <el-switch\n  v-model=\"scope.row.enabled\"\n  :disabled = \"!checkPermission(['task_update'])\"\n  @change=\"handleToggle(scope)\">\n</el-switch>\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button\n            type=\"primary\"\n            size=\"small\"\n            :disabled=\"!checkPermission(['task_update'])\"\n            @click=\"handleUpdate(scope)\"\n          >编辑</el-button>\n          <el-button\n            type=\"danger\"\n            size=\"small\"\n            :disabled=\"!checkPermission(['task_delete'])\"\n            @click=\"handleDelete(scope)\"\n          >删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <pagination\n      v-show=\"dataList.count > 0\"\n      :total=\"dataList.count\"\n      :page.sync=\"listQuery.page\"\n      :limit.sync=\"listQuery.page_size\"\n      @pagination=\"getList\"\n    />\n    <el-dialog\n      :visible.sync=\"dialogVisible\"\n      :title=\"dialogType === 'update' ? '编辑' : '新增'\"\n    >\n    <span>简单配置,复杂的可以去admin后台操作</span>\n      <el-form ref=\"Form\" :model=\"ptask\" label-width=\"80px\" :rules=\"dynamicRules\">\n        <el-form-item label=\"名称\" prop=\"name\">\n          <el-input v-model=\"ptask.name\" placeholder=\"名称\" />\n        </el-form-item>\n        <el-form-item label=\"执行代码\" prop=\"task\">\n          <el-input v-model=\"ptask.task\" placeholder=\"例:apps.system.tasks.show\" />\n        </el-form-item>\n        <el-form-item label=\"时间策略\">\n          <el-radio-group v-model=\"ptask.timetype\">\n            <el-radio label=\"interval\">间隔</el-radio>\n            <el-radio label=\"crontab\">crontab</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item\n          label=\"每隔\"\n          v-if=\"ptask.timetype == 'interval'\"\n        >\n          <el-input-number\n            v-model=\"ptask.interval_.every\"\n            :min=\"1\"\n          ></el-input-number>\n          <el-select\n            v-model=\"ptask.interval_.period\"\n            placeholder=\"请选择\"\n            style=\"width: 100px\"\n          >\n            <el-option\n              v-for=\"item in periodOptions\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\"\n            >\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item\n          label=\"分钟\"\n          prop=\"crontab_.minute\"\n          v-if=\"ptask.timetype == 'crontab'\"\n        >\n          <el-input\n            v-model=\"ptask.crontab_.minute\"\n            placeholder='Cron Minutes to Run. Use \"*\" for \"all\". (Example: \"0,30\")'\n          />\n        </el-form-item>\n        <el-form-item\n          label=\"小时\"\n          prop=\"crontab_.hour\"\n          v-if=\"ptask.timetype == 'crontab'\"\n        >\n          <el-input\n            v-model=\"ptask.crontab_.hour\"\n            placeholder='Cron Hours to Run. Use \"*\" for \"all\". (Example: \"8,20\")'\n          />\n        </el-form-item>\n        <el-form-item\n          label=\"每周的天\"\n          prop=\"crontab_.day_of_week\"\n          v-if=\"ptask.timetype == 'crontab'\"\n        >\n          <el-input\n            v-model=\"ptask.crontab_.day_of_week\"\n            placeholder='Cron Days Of The Week to Run. Use \"*\" for \"all\". (Example: \"0,5\")'\n          />\n        </el-form-item>\n        <el-form-item\n          label=\"每月的天\"\n          prop=\"crontab_.day_of_month\"\n          v-if=\"ptask.timetype == 'crontab'\"\n        >\n          <el-input\n            v-model=\"ptask.crontab_.day_of_month\"\n            placeholder='Cron Days Of The Month to Run. Use \"*\" for \"all\". (Example: \"1,15\")'\n          />\n        </el-form-item>\n        <el-form-item\n          label=\"每年的月\"\n          prop=\"crontab_.month_of_year\"\n          v-if=\"ptask.timetype == 'crontab'\"\n        >\n          <el-input\n            v-model=\"ptask.crontab_.month_of_year\"\n            placeholder='Cron Months Of The Year to Run. Use \"*\" for \"all\". (Example: \"0,6\")'\n          />\n        </el-form-item>\n        <el-form-item label=\"列表参数\" prop=\"args\">\n          <el-input\n            v-model=\"ptask.args\"\n            placeholder='JSON encoded positional arguments,(Example: [\"arg1\", \"arg2\"])'\n          />\n        </el-form-item>\n        <el-form-item label=\"字典参数\" prop=\"kwargs\">\n          <el-input\n            v-model=\"ptask.kwargs\"\n            placeholder='JSON encoded keyword arguments,(Example: {\"argument\": \"value\"})'\n          />\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\">\n        <el-button type=\"danger\" @click=\"dialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"confirmForm('Form')\">确认</el-button>\n      </span>\n    </el-dialog>\n  </div>\n",null]}